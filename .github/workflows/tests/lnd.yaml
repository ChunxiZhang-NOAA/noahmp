---
input:
  protocol: s3
  end_point: noaa-ufs-regtests-pds
logKindFlag:            ESMF_LOGKIND_MULTI
globalResourceControl:  .true.

ESMX_log_flush:        .true.
ESMX_field_dictionary: ./fd_nems.yaml

ESMX_component_list:   ATM LND
ESMX_attributes::
  Verbosity = high
::

ATM_model: datm
ATM_petlist: 0-5
ATM_attributes::
  Verbosity = 0
  Diagnostic = 0
  read_restart = .false.
  orb_eccen = 1.e36
  orb_iyear = 2000
  orb_iyear_align = 2000
  orb_mode = fixed_year
  orb_mvelp = 1.e36
  orb_obliq = 1.e36
  ScalarFieldCount = 3
  ScalarFieldIdxGridNX = 1
  ScalarFieldIdxGridNY = 2
  ScalarFieldIdxNextSwCday = 3
  ScalarFieldName = cpl_scalars
  case_name = comp.test
  stop_n = 1
  stop_option = ndays
  stop_tod = 0
  stop_ymd = -999
  restart_n = 1
  restart_option = never
  restart_ymd = -999
::

LND_model: noahmp
LND_petlist: 0-5
LND_attributes::
  Verbosity = 0
  Diagnostic = 0
  mosaic_file = INPUT/C96_mosaic.nc
  input_dir = INPUT/
  ic_type = custom
  num_soil_levels = 4
  forcing_height = 10
  soil_level_thickness = 0.10:0.30:0.60:1.00
  soil_level_nodes = 0.05:0.25:0.70:1.50
  dynamic_vegetation_option = 4
  canopy_stomatal_resistance_option = 2
  soil_wetness_option = 1
  runoff_option = 1
  surface_exchange_option = 3
  supercooled_soilwater_option = 1
  frozen_soil_adjust_option = 1
  radiative_transfer_option = 3
  snow_albedo_option = 1
  precip_partition_option = 4
  soil_temp_lower_bdy_option = 2
  soil_temp_time_scheme_option = 3
  surface_evap_resistance_option = 1
  glacier_option = 1
  surface_thermal_roughness_option = 2
  output_freq = 1
  has_export = .false.
::

ALLCOMP_attributes::
  case_name = comp.test
  stop_n = 1
  stop_option = ndays
  stop_tod = 0
  stop_ymd = -999
  restart_n = 1
  restart_option = never
  restart_ymd = -999
::

startTime: 2000-01-01T00:00:00
stopTime:  2000-01-02T00:00:00

runSeq::
@3600
  LND -> ATM :remapMethod=bilinear:unmappedaction=ignore:zeroregion=select
  ATM -> LND :remapMethod=bilinear:unmappedaction=ignore:zeroregion=select
  ATM
  LND
@
::  files:
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.maximum_snow_albedo.tile6.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.slope_type.tile6.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.soil_type.tile6.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.substrate_temperature.tile6.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_greenness.tile6.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile1.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile2.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile3.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile4.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile5.nc
    - input-data-20220414/FV3_fix_tiled/C96/C96.vegetation_type.tile6.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile1.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile2.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile3.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile4.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile5.nc
    - input-data-20220414/FV3_input_data/INPUT/C96_grid.tile6.nc
    - input-data-20220414/FV3_input_data/INPUT/grid_spec.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile1.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile2.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile3.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile4.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile5.nc
    - input-data-20220414/FV3_input_data/INPUT/oro_data.tile6.nc    
config:
  nuopc:
    name: esmxRun.config
    content: 
      no_group:
        LND_petlist: 
          values: 0-5
      LND_attributes:
        Verbosity:
          values: 0
        Diagnostic:
          values: 0
        mosaic_file:
          values: ${INPUT_DIR}/C96_mosaic.nc
        input_dir:
          values: ${INPUT_DIR}/
        ic_type:
          values: custom
        num_soil_levels:
          values: 4
        forcing_height:
          values: 10
        soil_level_thickness:
          values: 0.10:0.30:0.60:1.00
        soil_level_nodes:
          values: 0.05:0.25:0.70:1.50
        dynamic_vegetation_option:
          values: 4
        canopy_stomatal_resistance_option:
          values: 2
        soil_wetness_option:
          values: 1
        runoff_option:
          values: 1
        surface_exchange_option:
          values: 3
        supercooled_soilwater_option:
          values: 1
        frozen_soil_adjust_option:
          values: 1
        radiative_transfer_option:
          values: 3
        snow_albedo_option:
          values: 1
        precip_partition_option:
          values: 4
        soil_temp_lower_bdy_option:
          values: 2
        soil_temp_time_scheme_option:
          values: 3
        surface_evap_resistance_option:
          values: 1
        glacier_option:
          values: 1
        surface_thermal_roughness_option:
          values: 2
        output_freq:
          values: 10800
        has_export:
          values: .false.
